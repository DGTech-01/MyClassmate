
<!DOCTYPE html>

<html lang="en" data-layout="vertical" data-topbar="light" data-sidebar="light" data-sidebar-size="lg" data-sidebar-image="none" data-preloader="disable">
<head>

    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no" name="viewport">
    <title>@ViewBag.Title | VMS</title>
    <meta name="csrf-token" content="wpcyUKJsFkn6I2HGGyiwpDgbfO5LFQgKNA6KsaWC" />
    <!-- fav icon -->
    <link rel="icon" type="image/x-icon" href="~/assets/img/main_logo.png">

    <!-- General CSS Files -->
    <link href="~/assets/modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/assets/modules/fontawesome-free/css/all.min.css" rel="stylesheet" />
    <!-- CSS Libraries -->
    <link href="~/assets/css/id-card-print.css" rel="stylesheet" />
    <link href="~/assets/modules/izitoast/dist/css/iziToast.min.css" rel="stylesheet" />
    <link href="~/assets/css/dropzone.css" rel="stylesheet" />
    <link href="~/assets/modules/bootstrap-datepicker/css/bootstrap-datepicker.min.css" rel="stylesheet" />
    
    @*<link href="~/assets/modules/datatables.net-bs4/css/dataTables.bootstrap4.min.css" rel="stylesheet" />
        <link href="~/assets/modules/datatables.net-select-bs4/css/select.bootstrap4.min.css" rel="stylesheet" />*@
    <!-- Template CSS -->
    <!--jQuery library file -->
    <link href="~/assets/vendor/datatables/css/jquery.dataTables.min.css" rel="stylesheet" />
    @*<script type="text/javascript"
                src="https://code.jquery.com/jquery-3.5.1.js">
        </script>*@

    <!--Datatable plugin JS library file -->
    <script type="text/javascript"
            src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js">
    </script>
    <link href="~/assets/css/admin_style.css" rel="stylesheet" />
    <link href="~/assets/css/components.css" rel="stylesheet" />
    <link href="~/assets/css/custom.css" rel="stylesheet" />


</head>

<body>
    <audio id="myAudio1">
        <source src="https://demo.quickpass.xyz/beep.mp3" type="audio/mpeg">
    </audio>
    <div id="app">
        <div class="main-wrapper">
            <div class="navbar-bg"></div>
            <nav class="navbar navbar-expand-lg main-navbar">
                <div class="form-inline mr-auto">
                    <ul class="navbar-nav mr-3">
                        <li><a href="#" data-toggle="sidebar" class="nav-link nav-link-lg"><i class="fas fa-bars"></i></a></li>
                    </ul>
                </div>
                <ul class="navbar-nav navbar-right">
                    <li class=" hidecheck ">
                       
                            <div class="d-flex form-group  " style="margin-bottom: -24px;margin-left:auto">
                                <input class="form-control inputid" style="margin-right: 5px;" id="getVisitorId" type="text" name="visitorID" placeholder="Enter Token Number">
                                <button class="btn  d-flex inputbtn align-items-center" onclick="VisitorCheckOutByID();" type="button"><i class="fas fa-4x fa-sign-out-alt"></i>CheckOut</button>
                            </div>
                      
                    </li>
                    <li class="dropdown">
                        <a data-toggle="tooltip" data-placement="bottom" title="Go to Home Page" href=@Url.Action("Index", "Home") class="nav-link nav-link-lg beep" target="_blank"><i class="fa fa-globe"></i></a>
                    </li>
                    @*<li class="dropdown">
                            <a href="" data-toggle="dropdown" class="nav-link dropdown-toggle nav-link-lg nav-link-user">
                                <div class="d-sm-none d-lg-inline-block "><span class="flag-icon">🇬🇧</span>English</div>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right">
                                <a href="https://demo.quickpass.xyz/admin/lang/en" class="dropdown-item has-icon">
                                    <span class="flag-icon flag-icon-aw">🇬🇧 </span>English
                                </a>
                                <a href="https://demo.quickpass.xyz/admin/lang/de" class="dropdown-item has-icon">
                                    <span class="flag-icon flag-icon-aw">🇩🇪 </span>German
                                </a>
                                <a href="https://demo.quickpass.xyz/admin/lang/sa" class="dropdown-item has-icon">
                                    <span class="flag-icon flag-icon-aw">🇸🇦 </span>Arabic
                                </a>
                            </div>
                        </li>*@


                     @{Html.RenderAction("UserDetail", "Admin");}

                    
                </ul>
            </nav>
            <div class="main-sidebar">
                <aside id="sidebar-wrapper">
                    <div class="sidebar-brand">
                        <a href=@Url.Action("Dashboard", "Admin")><img src="~/assets/img/logo.png" data-inject-svg="" alt="logo" style="height: 40px;" /></a>
                    </div>
                    <div class="sidebar-brand sidebar-brand-sm">
                        <a href=@Url.Action("Dashboard", "Admin")>
                            <img src="~/assets/img/main_logo.png" data-inject-svg="" alt="logo" style="height: 40px;" />
                        </a>
                    </div>
                    <div>
                        @Html.Action("Menus", "Account")

                    </div>
                   
                </aside>
            </div>

            <!-- Main Content -->
            <div class="main-content">
                <section class="section">
                    @RenderBody()
                </section>
                <!-- Modal -->
                <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Clock in - <span class="clock-span"><i class="fas fa-4x fa-clock"></i> 10:24 AM</span></h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <form action="https://demo.quickpass.xyz/admin/admin-attendance/clockin" method="POST">
                                <input type="hidden" name="_token" value="wpcyUKJsFkn6I2HGGyiwpDgbfO5LFQgKNA6KsaWC">
                                <div class="modal-body">
                                    <div class="form-group">
                                        <label>Working From</label>
                                        <input type="text" name="title" class="form-control " value="" placeholder="e.g. Office, Home, etc.">
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    <button type="submit" class="btn btn-primary">Clock in</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <footer class="main-footer">
                <div class="footer-left">
                    @@ All Rights Reserved
                </div>
                <div class="footer-right">v1.0</div>
            </footer>
        </div>
    </div>
    <!-- General JS Scripts -->
    <script src="~/assets/modules/jquery/dist/jquery.min.js"></script>
    <script src="~/assets/modules/popper.js/dist/popper.min.js"></script>
    <script src="~/assets/modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="~/assets/modules/jquery.nicescroll/dist/jquery.nicescroll.min.js"></script>
    <script src="~/assets/modules/moment/min/moment.min.js"></script>
    <script src="~/assets/js/dropzone.min.js"></script>
    <script src="~/assets/js/stisla.js"></script>
    @*<script src="~/assets/modules/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>
        <script src="~/assets/modules/datatables.net-select-bs4/js/select.bootstrap4.min.js"></script>*@

    <script src="~/assets/vendor/datatables/js/jquery.dataTables.min.js"></script>
    <script src="~/assets/plugins-init/datatables.init.js"></script>


    @*<script src="~/assets/modules/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>*@
    <!-- JS Libraies -->
    <script src="~/assets/modules/izitoast/dist/js/iziToast.min.js"></script>

    <!-- Template JS File -->
    <script src="~/assets/js/scripts.js"></script>
    <script src="~/assets/js/custom.js"></script>
    @*<script src="https://www.gstatic.com/firebasejs/8.3.2/firebase.js"></script>*@
    <script>

          function VisitorCheckOutByID() {

         var TokenNo = document.getElementById("getVisitorId").value;
            $.ajax({
                url: "/Admin/VisitorCheckOutByID",
                    data: '{TokenNo: ' + TokenNo + '}',
                type: "POST",
                contentType: "application/json; charset=utf-8",
                success: function (data) {
                   if (result == 'SUCCESS') {
                   Swal.fire({
                              title: "Thanks!",
                              text: "CheckOut successfully",
                              icon: "success"
                                  }).then((result) => {
                                  if (result.isConfirmed) {
                                   location.reload();
                           
                                  }
                                });                 
                    }
                    else {
                        alert("Save failed!");
                    }

                },
                error: function (errormessage) {
                    alert(errormessage.responseText);
                  //  $("#tracker-loader").fadeOut("slow");
                }
            });

        }

    </script>
    <script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</body>
</html>